<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BuzzTherm | Cadastrar Terreno</title>
    <link rel="icon" href="assets/imgs/logo-tab.png"> 
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/sobrenos_style.css">
    <link rel="stylesheet" href="css/planos_style.css">
    <link rel="stylesheet" href="css/calculadora.css">
    <link rel="stylesheet" href="css/login.css">
    <link rel="stylesheet" href="css/style_dashboard.css">
    <link rel="stylesheet" href="css/sidenav.css">
    <script src="https://kit.fontawesome.com/b368d13717.js" crossorigin="anonymous"></script>
</head>

<body>

    <div class="header">
        <div class="container">
            <div class="logo">
                <img src="assets/imgs/logo1.png" alt="">
                <h1>
                    Buzztherm
                </h1>
            </div>

            <ul>
                <li class="notificacoes"><img src="assets/imgs/icons8-lembrete-de-compromissos-50.png" alt=""></li>
                <li class="minha-conta"><img src="assets/imgs/licensed-image.jpg" alt=""></li>
            </ul>
        </div>
    </div>

    <div id="sidebar"></div>
    <script src="js/sidenav.js"></script>

    <div class="corpo-login">
        <div class="container">
            <div class="campos">
                <h1 class="Titulo">
                    Cadastrar Terreno
                </h1>
                <div class="linha"></div>
                <li class="item-campo">
                    <span>Nome da fazenda:</span>
                    <input type="text" id="inp_nome">
                </li>


                <button class="botao" onclick="validarCampos()">
                    Cadastrar
                </button>

                </li>
            </div>
        </div>
    </div>
</body>

</html>
<script>
    function validarCampos() {
        var cnpjVar= sessionStorage.CNPJ
        var nomeVar= inp_nome.value 
        if(nomeVar=='') {
            alert(`Preencha o nome`)
        }
        else {
            fetch("/empresas/setor", { 
            method: "POST",
            headers: {
                "Content-Type": "application/json",
            },
            body: JSON.stringify({
                cnpjServer:cnpjVar,
                nomeServer: nomeVar,
               
            }),
        })
            .then(function (resposta) {
                if (resposta.ok) {
                    alert(`Terreno cadastrado com sucesso`);
                    window.location.reload()
                    
                } else {
                    throw "Houve um erro ao tentar realizar o cadastro!";
                }
            })
            .catch(function (erro) {
                console.log(`#ERRO: ${erro}`);
    
            });

        }



    }
</script>
